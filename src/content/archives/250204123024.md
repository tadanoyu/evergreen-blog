---
title: "head 포인터를 잃으면 메모리 누수가 발생할 수 있다"
folge: "3a"
uid: "250204123024"
pubDate: "February 4 2025 12:51"
updatedDate: "April 28 2025 21:00"
---

연결 리스트는 노드들이 연결되어 구성되며, 그 중 첫 번째 노드를 **머리(head)** 라고 한다.

단일 연결 리스트에서 새로운 노드를 삽입하려면, 보통 **머리부터 시작하여 마지막 노드까지 순회한 뒤**, 마지막 노드의 `next` 포인터를 새 노드에 연결하는 방식으로 삽입이 이루어진다. (단, tail 포인터를 유지하면 이 과정을 생략할 수 있다.)

예를 들어, 아래는 `head` 노드를 포함해 다섯 개의 노드를 순차적으로 연결한 코드이다:
```c
Node *head = createNode(1);
insertNode(head, 2);
insertNode(head, 3);
insertNode(head, 4);
insertNode(head, 5);
```

`head`부터 시작해 노드들을 순회하면 다음과 같은 출력이 된다:

```c
printAll(head); // 1 -> 2 -> 3 -> 4 -> 5
```

하지만, 만약 실수로 `head` 포인터를 덮어써버린다면 어떻게 될까?

```c
head = other_head;
```

이 경우, 기존 `head`가 가리키고 있던 노드들과 그 이후에 연결된 모든 노드들의 주소를 잃게 되어, **해당 메모리들을 해제할 수 없게 된다.** 이는 명백한 **메모리 누수(leak)** 로 이어진다.

이중 연결 리스트나 원형 연결 리스트, 혹은 `tail` 포인터를 유지하는 방식은 이런 문제를 부분적으로 완화할 수 있다. 하지만 무엇보다 중요한 것은, **`head` 포인터를 안전하게 관리하는 습관을 기르는 것**이다. 실수로 이를 덮어쓰지 않도록 주의해야 하며, 필요할 경우 백업 포인터를 두는 것이 좋다.