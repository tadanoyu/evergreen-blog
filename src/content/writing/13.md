---
title: "Python + Selenium을 사용하여 이슈 작성을 자동화해 보았다"
pubDate: "May 08 2025 05:20"
updatedDate: "May 08 2025 17:34"
---

내가 입사하기 전, 티켓을 자동으로 올려주는 코드를 이미 누군가 만든 적이 있다고 들었다. 하지만 입사하고 거의 1년이 돼가는 지금까지 해당 프로그램을 사용하는 팀원들을 보지는 못했다. 적어도 서부의 경우는 그렇다. 동부에서는 사용하고 있는 것으로 알고 있다.

티켓을 올리는 게 시간이 걸리는 작업이다 보니 꼭 한번 만들어보고 싶었는데 시간이 좀처럼 없었다. 그러다 최근 한국에 휴일이 겹치면서 업무가 상대적으로 적었는데, 지금이 좋은 기회라고 생각해서 자동화 프로그램을 만들기로 했다.

기존 스크립트를 사용하는 사이드 프로젝트의 경우 Ruby를 사용했을 테지만, 팀원들과 공유를 위해서는 기본적으로 설치되어 있는 Python이 편할 것 같아서, 엄청 오랜만에 Python을 써봤다.

기존 프로그램의 경우, 내가 알기로는 아래와 같이 동작한다:
1. GUI
2. multithreading - 동시에 여러 티켓 **등재**
3. headless - 선택 가능
4. **티켓 작성 및 등재까지 자동화**

내가 만든 프로그램의 경우는 아래와 같이 동작한다:
1. TUI
2. single-threaded - 티켓 하나씩 순차적으로 **작성**
3. not headless - 무조건
4. **티켓 작성까지만 자동화**. 등재는 하지 않음.


우선 등재까지 하지 않은 이유는, 중복 티켓을 올리지 않기 위해서가 첫 번째이다. Selenium으로 `submit`을 클릭했을 때, 어떠한 이유로 인해 서버에서의 반응 속도가 느리거나 혹은 프로그램의 이슈로 여러 번 클릭이 가해지면, 같은 티켓이 5개씩 등재될 수도 있다.

두 번째로는, 티켓을 올리기 전에 사람이 직접 간단하게나마 내용을 다시 한번 확인하기를 바랐다. 우리는 실수하는 동물이기에 확인 작업은 꼭 필요하다.

해당 프로그램을 만들고 나서 시험해 보기 위해 이슈를 부랴부랴 찾아 나섰다 ε=ε=┌( >_<)┘

잘 동작은 하는데 selenium 문제인지 컴퓨터 사양 문제인지 모르겠으나, 텍스트 기재할 때 시간이 좀 걸린다. 특히 이슈 내용! 해당 부분에서 시간이 좀 걸리다 보니, 티켓 하나 작성하는데 페이지 로딩 시간 포함 대략 2분 정도 걸리는 것 같다. 

이슈 내용을 빈 문자열로 놓고 실행하면 80초 정도로 시간이 확 줄어든다. `send_key`로 긴 내용의 텍스트를 보내버려서 그러는 건지, 정말 단순히 복붙하는 메소드는 없는지 찾아봐야겠다.

---

`send_keys`의 경우 단어나 문장보다는 사실 key stroke를 보내는 용도인 것 같다. 예를 들면 `Ctrl + A`, `DELETE`, 등등….자바스크립트라면 간단하게 해당 필드 선택해서 `innerText`로 대입하면 되는데 이런 거 없나 했더니…! `driver.execute_script`라는게 떡하니 있었다. 심지어 자바스크립트 실행이 가능하다.

기존 `send_keys`를 사용하던 코드를 `driver.execute_script(...)`로 바꿨더니, 티켓 하나 작성하는 데 대략 2분 걸리던 것이 지금은 1분밖에 안 걸린다. 티켓 5개로 시험해 봤더니 5분 20초 정도 걸렸다.

이 정도면 충분히 쓸만한 것 같다.

다만 올릴 이슈가 없어서 실제로 테스트를 해볼 수가 없다 (｡•́︿•̀｡)
일단 써봐야 팀원들과 공유하든 뭘 하든할 텐데 말이지.