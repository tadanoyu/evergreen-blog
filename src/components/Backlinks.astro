---
import backlinks from "./backlinks.json"
import categories from "./categories.json"

const currentPath = decodeURIComponent(Astro.url.pathname.split('/')[2]);
const refs = Object.keys(backlinks).filter(key => backlinks[key].includes(currentPath));
---

<style lang="scss">
    .bounds {
        margin-top: 8rem;
    }

</style>
<div class="bounds">
    {refs.length > 0 && (
        <div>This note was mentioned in...</div>
        <ul>
            {refs.map(ref => (
                <li key={ref}>
                    <a href={`/${categories[ref]}/${ref}`}>{ref.split('_').join(' ')}</a>
                </li>
            ))}
        </ul>
    )}
</div>